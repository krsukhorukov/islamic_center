{% extends "../base.html" %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/addnews.css' %}">

<form enctype="multipart/form-data" method="post" id="mainnews_form" novalidate="">
    {% csrf_token %}
    <div>
        <div class="form-row field-title">
            <div>
                <label class="required" for="id_title">Title:</label>
                <input type="text" name="title" class="vTextField" maxlength="1000" required="" id="id_title">
            </div>
        </div>

        <div class="form-row field-image">
            <div>
                <label class="required" for="id_image">Image:</label>
                <input type="file" name="image" accept="image/*" required="" id="id_image">
            </div>
        </div>

        <div class="form-row field-image">
            <div>
                <label class="required" for="id_video">Video:</label>
                <input type="file" name="video" accept="video/*" required="" id="id_video">
            </div>
        </div>

        <div class="form-row field-text">
            <div>
                <label class="required" for="id_text">Text:</label>
                <textarea name="text" cols="40" rows="10" class="vLargeTextField" required="" id="id_text"></textarea>
            </div>
        </div>

        <div class="form-row field-text">
            <div>
                <label class="required" for="id_date">Date:</label>
                <input type="date" name="date" required="" id="id_date">
            </div>
        </div>

        <div class="submit-row">
            <input type="submit" value="Save" class="default" name="_save">
        </div>

        <div id="loading" style="display:none;">Загрузка...</div>

        <script>
            document.getElementById("mainnews_form").onsubmit = function () {
                document.getElementById("loading").style.display = "block";
            };
        </script>

        <script id="django-admin-form-add-constants" src="/static/admin/js/change_form.js" data-model-name="mainnews"
            async=""></script>
        <script id="django-admin-prepopulated-fields-constants" src="/static/admin/js/prepopulate_init.js"
            data-prepopulated-fields="[]"> </script>
    </div>
</form>

{% endblock %}